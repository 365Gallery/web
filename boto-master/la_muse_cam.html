<!DOCTYPE html>
<html lang="zxx">
<head>
	<title>365 Gallery</title>
	<meta charset="UTF-8">
	<meta name="description" content="Boto Photo Studio HTML Template">
	<meta name="keywords" content="photo, html">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Stylesheets -->
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
	<link rel="stylesheet" href="css/font-awesome.min.css"/>
	<link rel="stylesheet" href="css/slicknav.min.css"/>

	<!-- Main Stylesheets -->
	<link rel="stylesheet" href="css/style.css"/>


	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>
<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header Section -->
	<header class="header">
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-4 col-md-3 order-2 order-sm-1">
				</div>
				<div class="col-sm-4 col-md-6 order-1  order-md-2 text-center">
					<a href="./index.html" class="site-logo">
						<img src="img/logo.png" alt="">
					</a>
				</div>
				<div class="col-sm-4 col-md-3 order-3 order-sm-3">
				</div>
			</div>
			<nav class="main__menu">
				<ul class="nav__menu">
					<li><a href="./index.html">Home</a></li>
					<li><a href="./scream_pic.html" class="menu--active">Exhibition</a>
					<ul class="sub__menu">
							<li><a href="./scream_pic.html">Scream</a></li>
							<li><a href="./la_muse_pic.html">La Muse</a></li>
							<li><a href="./rain_princess_pic.html">Rain Princess</a></li>
							<li><a href="./udnie_pic.html">Udnie</a></li>
							<li><a href="./wave_pic.html">Wave</a></li>
							<li><a href="./wreck_pic.html">Shipwreck</a></li>
						</ul></li>
					<li><a href="./mygallery.html">My Gallery</a></li>
					<li><a href="./login.html">Log in</a></li>
				</ul>
			</nav>
		</div>
	</header>
	<!-- Header Section end -->

	<!-- About Page -->
	<section class="about__page">
		<div class="move-btn-pic">
			<button onClick="location.href='la_muse_pic.html'">이미지 전환</button>
		</div>
		<div class="cam-box">
			<div id="mycam" class="input-cam" autoplay>
			</div>
			<div class = "output-cam">
				<img src="http://34.64.170.176:8000/media/output.jpeg" name="camReload" alt=""/>
			</div>
		</div>
		<div class="cam-description">
			<div class="row">
				<div class="about__text">
						<h3 class="about__title">
							<br><br>Pablo Picasso</h3>
						<div class="about__meta">
							<img src="img/exhibition/La_Muse.jpg" alt="">
							<div class="about__meta__info">
								<h5>La Muse</h5>
								<p>Pablo Picasso | 1935</p>
							</div>
						</div>
						<p>파블로 루이즈 피카소(Pablo Ruiz Picasso, 1881년 10월 25일 ~ 1973년 4월 8일)는 스페인 말라가에서 출생하였고 주로 프랑스에서 미술활동을 한 20세기의 대표적 큐비즘 작가로 널리 알려져 있으며, 대표작으로 《아비뇽의 처녀들》, 《게르니카》 등이 있다.
						</p>
						<p>이 작품에서는 두 여인을 발견할 수 있다. 한 여인은 거울에 비친 모습을 드로잉하고 있으며, 다른 한 여인은 팔을 베고 엎드려 잠을 청하고 있다. 이 시기에 피카소는 어린 소녀가 그림을 그리고, 글을 쓰거나 읽는 류의 그림을 많이 그렸다. 프랑스 모델이자 피카소의 연인이었던 Marie Therese Walther가 이런 모습으로 등장한다. 그들의 딸인  Maya Widmaier Picasso는 1935년 10월, 이 작품이 그려진지 몇 달 후에 태어났다. </p>
				</div>
			</div>
		</div>
	</section>
	<!-- About Page end -->


	<!-- Search Begin -->
	<div class="search-model">
		<div class="h-100 d-flex align-items-center justify-content-center">
			<div class="search-close-switch">+</div>
			<form class="search-model-form">
				<input type="text" id="search-input" placeholder="Search here.....">
			</form>
		</div>
	</div>
	<!-- Search End -->

	<!--====== Javascripts & Jquery ======-->
	<script src="js/vendor/jquery-3.2.1.min.js"></script>
	<script src="js/jquery.slicknav.min.js"></script>
	<script src="js/slick.min.js"></script>
	<script src="js/main.js"></script>
	<script src="js/webcam.js"></script>

	<!-- Script: Cam reload -->
	<script>
		setInterval(function(){
	    	timeTmp = new Date().getTime();
	    	timeTmp = "?"+ timeTmp;

	    	var target='camReload';
	    	newImage = document.images[target].src;

	    	idx = newImage.indexOf("?", 0);

	    	if(idx > 0){
	    		newImage = newImage.substr(0, idx);
	    	}
	    	document.images[target].src = newImage+timeTmp;
		}, 150);
	</script>

	<!-- Script: Cam functions -->
	<script>
		function dataURItoBlob(dataURI) {
		    // convert base64/URLEncoded data component to raw binary data held in a string
		    var byteString;
		    if (dataURI.split(',')[0].indexOf('base64') >= 0)
		        byteString = atob(dataURI.split(',')[1]);
		    else
		        byteString = unescape(dataURI.split(',')[1]);

		    // separate out the mime component
		    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];

		    // write the bytes of the string to a typed array
		    var ia = new Uint8Array(byteString.length);
		    for (var i = 0; i < byteString.length; i++) {
		        ia[i] = byteString.charCodeAt(i);
		    }

		    return new Blob([ia], {type:mimeString});
		}

		function uploadSnap(img_src){
			imageBlob = dataURItoBlob(img_src);
			var data = new FormData();
			data.append('file', imageBlob, "webcam.jpeg");

			$.ajax({
		        type: "POST",
		        enctype: 'multipart/form-data',
		        url: "http://34.64.170.176:8000/api/v1/images/?model=la_muse.ckpt",
		        data: data,
		        processData: false,
		        contentType: false,
		        cache: false,
		        timeout: 600000,
		    });
		}

		function take_snapshot() {
			Webcam.snap(function(data_uri) {
				uploadSnap(data_uri);
			});
		}

		function ShowCam(){
			Webcam.set({
			width: 500,
			height: 400,
			image_format: 'jpeg',
			jpeg_quality: 30
			});
			Webcam.attach('#mycam');
		}

		window.onload = ShowCam;

		setInterval(function(){
	    	if (Webcam.loaded) {
	    		take_snapshot();
	    	}
		}, 300);
	</script>
	</body>
</html>