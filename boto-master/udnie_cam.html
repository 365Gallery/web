<!DOCTYPE html>
<html lang="zxx">
<head>
	<title>365 Gallery</title>
	<meta charset="UTF-8">
	<meta name="description" content="Boto Photo Studio HTML Template">
	<meta name="keywords" content="photo, html">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Stylesheets -->
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
	<link rel="stylesheet" href="css/font-awesome.min.css"/>
	<link rel="stylesheet" href="css/slicknav.min.css"/>

	<!-- Main Stylesheets -->
	<link rel="stylesheet" href="css/style.css"/>


	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>
<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header Section -->
	<header class="header">
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-4 col-md-3 order-2 order-sm-1">
				</div>
				<div class="col-sm-4 col-md-6 order-1  order-md-2 text-center">
					<a href="./index.html" class="site-logo">
						<img src="img/logo.png" alt="">
					</a>
				</div>
				<div class="col-sm-4 col-md-3 order-3 order-sm-3">
				</div>
			</div>
			<nav class="main__menu">
				<ul class="nav__menu">
					<li><a href="./index.html">Home</a></li>
					<li><a href="./scream_pic.html" class="menu--active">Exhibition</a>
					<ul class="sub__menu">
							<li><a href="./scream_pic.html">Scream</a></li>
							<li><a href="./la_muse_pic.html">La Muse</a></li>
							<li><a href="./rain_princess_pic.html">Rain Princess</a></li>
							<li><a href="./udnie_pic.html">Udnie</a></li>
							<li><a href="./wave_pic.html">Wave</a></li>
							<li><a href="./wreck_pic.html">Shipwreck</a></li>
						</ul></li>
					<li><a href="./mygallery.html">My Gallery</a></li>
					<li><a href="./login.html">Log in</a></li>
				</ul>
			</nav>
		</div>
	</header>
	<!-- Header Section end -->

	<!-- About Page -->
	<section class="about__page">
		<div class="move-btn-pic">
			<button onClick="location.href='udnie_pic.html'">이미지 전환</button>
		</div>
		<div class="cam-box">
			<div id="mycam" class="input-cam" autoplay>
			</div>
			<div class = "output-cam">
				<img src="http://34.64.170.176:8000/media/output.jpeg" name="camReload" alt=""/>
			</div>
		</div>
		<div class="cam-description">
			<div class="row">
				<div class="about__text">
						<h3 class="about__title">
							<br><br>Francis Picabia</h3>
						<div class="about__meta">
							<img src="img/exhibition/udnie.jpg" alt="">
							<div class="about__meta__info">
								<h5>Udnie (Young American Girl, The Dance)</h5>
								<p>Francis Picabia | 1913 | 290 x 300 cm | oil on canvas</p>
							</div>
						</div>
						<p>프란시스 피카비아는 피카소, 마티스, 뒤샹과 동시대를 살았지만, 그들의 그림자에 가려져 무명에 가깝게 미술사의 그늘에서 서성거렸던 화가, 작가로서의 시그니처 스타일을 고수하지 않았던 자유인이다. 그는 부유한 쿠바계 아버지, 프랑스계 어머니 사이에서 외동아들로 태어나 도박과 요트, 레이스카와 여성을 좋아했던 플레이보이였다. 따라서 그림은 그에게 생업이 아니라 취미였고, 고군분투 화가로서의 치열함보다 장난끼와 냉소주의, 쾌락주의로 살아간 나르시스트 화가였다고 할 수 있다. 피카비아는 미술 외에도 시, 작가, 영화감독, 그래픽 디자이너, 세트 디자이너, 편집인, 발행인, 퍼포먼스 아티스트, 신표현주의, 추상적 표현주의, 팝아트까지 수많은 장르의 봉우리를 유희적으로 정복하며 살다간 아티스트였다.
						</p>
						<p> "I am a beutiful monster who shares his secrets with the wind. What I love most in others is myself." - Francis Picabia</p>
				</div>
			</div>
		</div>
	</section>
	<!-- About Page end -->


	<!-- Search Begin -->
	<div class="search-model">
		<div class="h-100 d-flex align-items-center justify-content-center">
			<div class="search-close-switch">+</div>
			<form class="search-model-form">
				<input type="text" id="search-input" placeholder="Search here.....">
			</form>
		</div>
	</div>
	<!-- Search End -->

	<!--====== Javascripts & Jquery ======-->
	<script src="js/vendor/jquery-3.2.1.min.js"></script>
	<script src="js/jquery.slicknav.min.js"></script>
	<script src="js/slick.min.js"></script>
	<script src="js/main.js"></script>
	<script src="js/webcam.js"></script>

	<!-- Script: Cam reload -->
	<script>
		setInterval(function(){
	    	timeTmp = new Date().getTime();
	    	timeTmp = "?"+ timeTmp;

	    	var target='camReload';
	    	newImage = document.images[target].src;

	    	idx = newImage.indexOf("?", 0);

	    	if(idx > 0){
	    		newImage = newImage.substr(0, idx);
	    	}
	    	document.images[target].src = newImage+timeTmp;
		}, 150);
	</script>

	<!-- Script: Cam functions -->
	<script>
		function dataURItoBlob(dataURI) {
		    // convert base64/URLEncoded data component to raw binary data held in a string
		    var byteString;
		    if (dataURI.split(',')[0].indexOf('base64') >= 0)
		        byteString = atob(dataURI.split(',')[1]);
		    else
		        byteString = unescape(dataURI.split(',')[1]);

		    // separate out the mime component
		    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];

		    // write the bytes of the string to a typed array
		    var ia = new Uint8Array(byteString.length);
		    for (var i = 0; i < byteString.length; i++) {
		        ia[i] = byteString.charCodeAt(i);
		    }

		    return new Blob([ia], {type:mimeString});
		}

		function uploadSnap(img_src){
			imageBlob = dataURItoBlob(img_src);
			var data = new FormData();
			data.append('file', imageBlob, "webcam.jpeg");

			$.ajax({
		        type: "POST",
		        enctype: 'multipart/form-data',
		        url: "http://34.64.170.176:8000/api/v1/images/?model=udnie.ckpt",
		        data: data,
		        processData: false,
		        contentType: false,
		        cache: false,
		        timeout: 600000,
		    });
		}

		function take_snapshot() {
			Webcam.snap(function(data_uri) {
				uploadSnap(data_uri);
			});
		}

		function ShowCam(){
			Webcam.set({
			width: 500,
			height: 400,
			image_format: 'jpeg',
			jpeg_quality: 30
			});
			Webcam.attach('#mycam');
		}

		window.onload = ShowCam;

		setInterval(function(){
	    	if (Webcam.loaded) {
	    		take_snapshot();
	    	}
		}, 300);
	</script>
	</body>
</html>